<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/app.60176bdc619a5f4de8c3.css">code[class*=language-],pre[class*=language-]{-moz-hyphens:none;-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;background:#282c34;border-radius:5px;color:#c0c5ce;direction:ltr;font-family:Fira Code,Consolas,Menlo,Monaco,Andale Mono WT,Andale Mono,Lucida Console,Lucida Sans Typewriter,DejaVu Sans Mono,Bitstream Vera Sans Mono,Liberation Mono,Nimbus Mono L,Courier New,Courier,monospace!important;font-size:14px;hyphens:none;line-height:1.375;margin:30px 0!important;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#a7adba;text-shadow:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#a7adba;text-shadow:none}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#65737e}.token.namespace{opacity:.7}.token.boolean,.token.number,.token.operator{color:#f99157}.token.property{color:#fac863}.token.tag{color:#69c}.token.string,.token.symbol{color:#99c794}.token.selector{color:#c594c5}.token.attr-name{color:#f99157}.language-css .token.string,.style .token.string,.token.entity,.token.url{color:#5fb3b3}.token.attr-value,.token.control,.token.directive,.token.keyword,.token.unit{color:#b294bb}.token.atrule,.token.regex,.token.statement{color:#5fb3b3}.token.placeholder,.token.variable{color:#69c}.token.operator,.token.punctuation{color:#5fb3b3}.token.deleted{text-decoration:line-through}.token.inserted{border-bottom:1px dotted #fff;text-decoration:none}.token.italic{font-style:italic}.token.bold,.token.important{font-weight:700}.token.class-name,.token.constant{color:#f99157}.token.important{color:#c66}.token.entity{cursor:help}.token.function{color:#69c}pre>code.highlight{outline:.4em solid #c66;outline-offset:.4em}.gatsby-highlight-code-line{background-color:#33424c;display:block}
pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;border-right:1px solid #999;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block;pointer-events:none}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}

/*# sourceMappingURL=app.60176bdc619a5f4de8c3.css.map*/</style><title data-react-helmet="true">ReactJunkie - Yusinto Ngadiman&#x27;s blog</title><meta data-react-helmet="true" name="description" content="Read writing from Yusinto Ngadiman on reactjunkie.com. Frontend Engineer @ Qantas. Tinkerer of things. Tea lover. Passionate about react graphql and making things fast."/><meta data-react-helmet="true" name="keywords" content="yusinto,ngadiman,blog,yus,react,junkie,reactjunkie,graphql,react-site-nav,ld-redux,universal-hot-reload,relay-compiler-plus"/><style data-styled-components="gfSetW crjfoZ gQMAr bNfENI dcWKuk bmXoJS dNdnqs fQnbP hrrckh hiJNDA jXJefh eViOOq bGQVDl dBWNoL cgCBnZ cbDDLL iXYkqD">
/* sc-component-id: header__RootDiv-sc-31ozxh-0 */
.gfSetW{position:fixed;top:0;width:100%;height:56px;opacity:0.96;background:white;z-index:2;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
/* sc-component-id: header__Logo-sc-31ozxh-1 */
.crjfoZ{margin:0;margin-left:10px;font-size:25px;font-weight:bold;} @media(min-width:375px){.crjfoZ{font-size:32px;}}
/* sc-component-id: header__SocialLinks-sc-31ozxh-2 */
.gQMAr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-top:5px;} @media(min-width:480px){.gQMAr{margin-right:10px;}}
/* sc-component-id: header__SocialLink-sc-31ozxh-3 */
.bNfENI{width:18px;margin:8px 10px;} @media(min-width:375px){.bNfENI{width:20px;margin:10px;}} @media(min-width:480px){.bNfENI{margin:10px 13px;}}
/* sc-component-id: authorBio__RootDiv-rhx0vu-0 */
.bmXoJS{display:grid;grid-template-columns:70px auto;grid-template-rows:100px;grid-column-gap:5px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 auto;max-width:740px;padding:0 20px;}
/* sc-component-id: authorBio__Bio-rhx0vu-1 */
.fQnbP{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;font-size:13px;opacity:0.8;}
/* sc-component-id: authorBio__ProfilePic-rhx0vu-2 */
.dNdnqs{height:60px;width:60px;border-radius:50%;background-image:url('/static/icon-512x512-fe7d1fb00f5ab5cc590685767bd2310d.png');background-position:center top;background-size:cover;}
/* sc-component-id: authorBio__Name-rhx0vu-3 */
.hrrckh{font-weight:bold;opacity:1;}
/* sc-component-id: authorBio__Blurb-rhx0vu-4 */
.hiJNDA:after{content:'Frontend Engineer @ Qantas. Tinkerer of things. Tea lover.…';} @media(min-width:380px){.hiJNDA:after{content:'Frontend Engineer @ Qantas. Tinkerer of things. Tea lover. Passionate about…';}} @media(min-width:503px){.hiJNDA:after{content:'Frontend Engineer @ Qantas. Tinkerer of things. Tea lover. Passionate about react graphql and making things fast.';}}
/* sc-component-id: authorBio__DateReadMinutes-rhx0vu-5 */
.jXJefh{font-size:11.5px;}
/* sc-component-id: authorBio__MidDot-rhx0vu-6 */
.eViOOq{padding:0 7px;vertical-align:middle;}
/* sc-component-id: sc-global-311531884 */
html{font-family:sans-serif;} h1{margin-top:50px;} h2,h3,h4,h5{margin-top:50px;margin-bottom:12px;} body{margin:0;} a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:0.7;} ul,ol{margin-left:1.78rem;} .gatsby-highlight{margin-bottom:30px;} .gatsby-highlight-code-line{background-color:#14161a;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:0.75em;border-left:0.2em solid yellowgreen;} .embedVideoIframe{margin-bottom:0;} #markdownImage{border:1px solid #2d2d2d;box-shadow:6px 7px 5px -1px rgba(0,0,0,0.11);border-radius:7px;}
/* sc-component-id: layout__RootDiv-ii2kc2-0 */
.dcWKuk{margin:0 auto;width:100%;padding:56px 0;}
/* sc-component-id: tagList__List-di7ei6-0 */
.cbDDLL{list-style-type:none;margin:0;padding:0;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;font-size:15px;font-weight:400;font-style:normal;}
/* sc-component-id: tagList__ListItem-di7ei6-1 */
.iXYkqD{display:inline-block;border:none;color:rgba(0,0,0,.68);background:rgba(0,0,0,.05);border-radius:3px;margin:8px;padding:0 10px;} .iXYkqD a{color:black;} .iXYkqD a:hover{opacity:1;} .iXYkqD:hover{background:rgba(0,0,0,0.1);}
/* sc-component-id: postTemplate__Title-k5dusi-0 */
.dBWNoL{margin-top:20px;margin-bottom:30px;}
/* sc-component-id: postTemplate__Content-k5dusi-1 */
.bGQVDl{margin:0 auto;max-width:740px;padding:0 20px;}
/* sc-component-id: postTemplate__Hero-k5dusi-2 */
.cgCBnZ{width:100%;max-height:300px;object-fit:cover;}</style><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.78 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:300;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2.2974rem;line-height:2.67rem;letter-spacing:-2px;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}ul{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:0.85rem;line-height:1.78rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:1rem;line-height:1.78rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}blockquote{margin-left:0;margin-right:1.78rem;margin-top:0;padding-bottom:0;padding-left:1.44625rem;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:1.1487rem;line-height:1.78rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.33375rem solid hsla(0,0%,0%,0.2);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.78rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.78rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}li > ul{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.78rem / 2);}code{font-size:0.85rem;line-height:1.78rem;}kbd{font-size:0.85rem;line-height:1.78rem;}samp{font-size:0.85rem;line-height:1.78rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.18667rem;padding-right:1.18667rem;padding-top:0.89rem;padding-bottom:calc(0.89rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#f92300;text-decoration:none;}a:hover,a:active{text-decoration:underline;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.78rem;color:hsla(0,0%,0%,0.9);font-weight:300;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.78rem;}blockquote{margin-left:-1.335rem;margin-right:0;padding-left:1.00125rem;}}@media only screen and (max-width:768px){h1{font-size:2rem;line-height:2.67rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.56rem;}</style><link href="//fonts.googleapis.com/css?family=Open+Sans:700|Merriweather:300,300i,700,700i" rel="stylesheet" type="text/css"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 200)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/0-19e36683adfe211454e2.js"/><link as="script" rel="preload" href="/component---src-pages-post-template-js-d255fc109465d408af22.js"/><link as="script" rel="preload" href="/1-a27f1ce31a73d4413592.js"/><link as="script" rel="preload" href="/app-2f24f6379817eea6a2e9.js"/><link as="script" rel="preload" href="/webpack-runtime-50a4b4d11b9e1ff9efe1.js"/><link rel="preload" href="/static/d/997/path---step-three-to-react-speed-dev-with-hot-module-replacement-c-37-26c-2lDTc9sVYVE6r5U9w3pyYyVDykw.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="header__RootDiv-sc-31ozxh-0 gfSetW"><h1 class="header__Logo-sc-31ozxh-1 crjfoZ"><a href="/">ReactJunkie</a></h1><div class="header__SocialLinks-sc-31ozxh-2 gQMAr"><span class="header__SocialLink-sc-31ozxh-3 bNfENI"><a href="https://twitter.com/yusinto" target="_blank" rel="noopener noreferrer"><svg viewBox="0 0 1024 1024"><title>twitter</title><path class="path1" d="M886.579 319.795c0.41 8.294 0.563 16.691 0.563 24.986 0 255.488-194.406 549.99-549.888 549.99-109.21 0-210.739-32-296.294-86.886 15.155 1.792 30.515 2.714 46.080 2.714 90.624 0 173.926-30.925 240.026-82.688-84.531-1.587-155.955-57.395-180.531-134.195 11.776 2.202 23.91 3.379 36.352 3.379 17.664 0 34.765-2.304 50.944-6.707-88.422-17.818-155.034-95.898-155.034-189.594 0-0.819 0-1.587 0-2.406 26.061 14.49 55.91 23.194 87.552 24.218-51.866-34.714-86.016-93.798-86.016-160.922 0-35.379 9.523-68.608 26.214-97.178 95.283 116.992 237.773 193.894 398.387 201.984-3.277-14.182-4.966-28.877-4.966-44.083 0-106.701 86.477-193.178 193.229-193.178 55.603 0 105.83 23.398 141.107 60.979 43.981-8.704 85.35-24.781 122.726-46.899-14.438 45.107-45.107 82.995-84.992 106.906 39.117-4.71 76.288-15.002 111.002-30.413-25.907 38.81-58.675 72.806-96.461 99.994z"></path></svg></a></span><span class="header__SocialLink-sc-31ozxh-3 bNfENI"><a href="https://github.com/yusinto" target="_blank" rel="noopener noreferrer"><svg viewBox="0 0 1024 1024"><title>github</title><path class="path1" d="M674.816 579.021c-36.762 0-66.56 41.318-66.56 92.109 0 50.893 29.798 92.211 66.56 92.211s66.56-41.318 66.56-92.211c-0.051-50.79-29.798-92.109-66.56-92.109zM906.547 339.251c7.629-18.688 7.936-124.877-32.512-226.611 0 0-92.723 10.189-233.011 106.496-29.44-8.192-79.258-12.186-128.973-12.186-49.818 0-99.584 3.994-129.024 12.186-140.339-96.307-233.062-106.496-233.062-106.496-40.397 101.734-39.987 207.923-32.461 226.611-47.514 51.61-76.544 113.613-76.544 198.195 0 367.923 305.306 373.811 382.31 373.811 17.51 0 52.122 0.102 88.781 0.102 36.608 0 71.27-0.102 88.678-0.102 77.107 0 382.31-5.888 382.31-373.811 0-84.582-28.979-146.586-76.493-198.195zM513.434 866.048h-2.867c-193.075 0-343.501-22.989-343.501-210.688 0-45.005 15.872-86.682 53.606-121.293 62.822-57.702 169.216-27.187 289.894-27.187 0.512 0 1.024 0 1.485 0 0.512 0 0.922 0 1.382 0 120.678 0 227.123-30.515 289.997 27.187 37.632 34.611 53.504 76.288 53.504 121.293 0 187.699-150.374 210.688-343.501 210.688zM349.235 579.021c-36.762 0-66.56 41.318-66.56 92.109 0 50.893 29.798 92.211 66.56 92.211 36.813 0 66.611-41.318 66.611-92.211 0-50.79-29.798-92.109-66.611-92.109z"></path></svg></a></span><span class="header__SocialLink-sc-31ozxh-3 bNfENI"><a href="mailto:yusinto@gmail.com"><svg viewBox="0 0 1024 1024"><title>mail</title><path class="path1" d="M80.589 270.643c24.986 13.414 371.098 199.373 384 206.285s29.594 10.189 46.387 10.189c16.794 0 33.485-3.277 46.387-10.189s359.014-192.87 384-206.285c25.037-13.466 48.691-65.843 2.765-65.843h-866.253c-45.926 0-22.272 52.378 2.714 65.843zM952.986 383.437c-28.416 14.797-378.214 197.069-395.622 206.182s-29.594 10.189-46.387 10.189-28.979-1.075-46.387-10.189-365.21-191.437-393.626-206.234c-19.968-10.445-19.763 1.792-19.763 11.213s0 373.402 0 373.402c0 21.504 28.979 51.2 51.2 51.2h819.2c22.221 0 51.2-29.696 51.2-51.2 0 0 0-363.93 0-373.35s0.205-21.658-19.814-11.213z"></path></svg></a></span><span class="header__SocialLink-sc-31ozxh-3 bNfENI"><a href="https://www.linkedin.com/in/yusinto" target="_blank" rel="noopener noreferrer"><svg viewBox="0 0 1024 1024"><title>linkedin</title><path class="path1" d="M256 153.6c0 54.374-36.352 101.171-102.451 101.171-62.208 0-102.349-44.134-102.349-98.509 0-55.808 38.912-105.062 102.4-105.062s101.171 46.592 102.4 102.4zM51.2 972.8v-665.6h204.8v665.6h-204.8z"></path><path class="path2" d="M358.4 534.733c0-79.104-2.611-145.203-5.222-202.291h184.013l9.114 88.218h3.891c25.907-41.523 89.395-102.4 195.686-102.4 129.638 0 226.918 86.784 226.918 273.51v381.030h-204.8v-351.283c0-81.613-31.078-143.872-102.4-143.872-54.374 0-81.613 44.032-95.898 80.333-5.222 13.005-6.502 31.13-6.502 49.306v365.517h-204.8v-438.067z"></path></svg></a></span></div></div><div class="layout__RootDiv-ii2kc2-0 dcWKuk"><div class="authorBio__RootDiv-rhx0vu-0 bmXoJS"><div class="authorBio__ProfilePic-rhx0vu-2 dNdnqs"></div><div class="authorBio__Bio-rhx0vu-1 fQnbP"><div class="authorBio__Name-rhx0vu-3 hrrckh">Yusinto Ngadiman</div><div class="authorBio__Blurb-rhx0vu-4 hiJNDA"></div><div class="authorBio__DateReadMinutes-rhx0vu-5 jXJefh">April 02, 2016<span class="authorBio__MidDot-rhx0vu-6 eViOOq">·</span>4<!-- --> min read</div></div></div><div class="postTemplate__Content-k5dusi-1 bGQVDl"><h1 class="postTemplate__Title-k5dusi-0 dBWNoL">Step 3 to React - Speed dev with hot module replacement</h1></div><div class="postTemplate__Content-k5dusi-1 bGQVDl"><p>In the <a href="/step-two-to-react-webpack-and-react/">previous post</a> we started writing react code
and that was cool. However having to restart the app and refresh the browser everytime we make a change is a pain.
There must be a better way to optimise our dev/debug cycle.</p>
<p>And yes there is. Enter react hot module replacement or hmr created by <a href="https://github.com/gaearon" target="_blank" rel="nofollow">Dan Abramov</a> the creator of redux. Hmr is a much much better
"version" of liveReload. You don't need to inject a script tag into your code and there is no browser refresh. When you make
changes to your code, they simply appear in the browser like magic without reload.</p>
<p>This is a short post just to get hmr working so let's dive straight into the code now and I'll explain things along the way.</p>
<hr>
<h2 id="step-31-install-transforms-and-webpack-middlewares"><a href="#step-31-install-transforms-and-webpack-middlewares" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3.1: Install transforms and webpack middlewares</h2>
<p>There are 6 packages we need to install:</p>
<div class="gatsby-highlight" data-language="bash">
      <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-plugin-react-transform react-transform-hmr react-transform-catch-errors redbox-react webpack-dev-middleware webpack-hot-middleware</code></pre>
      </div>
<p><strong>babel-plugin-react-transform</strong> - This modifies your react components by applying all the transforms we configure in .babelrc.</p>
<p><strong>react-transform-hmr</strong> - This transform enables hot reloading of components</p>
<p><strong>react-transform-catch-errors</strong> - This transform catches errors inside the render() method and renders that error instead of your component.</p>
<p><strong>redbox-react</strong> - Used by react-transform-catch-errors to display errors in a red screen of death in the browser.</p>
<p><strong>webpack-dev-middleware</strong> - bundles our js file on the fly, stores it in memory and serves it</p>
<p><strong>webpack-hot-middleware</strong> - enables hot reloading using webpack-dev-middleware above</p>
<hr>
<h2 id="step-32-configure-babel"><a href="#step-32-configure-babel" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3.2: Configure babel</h2>
<p>Your .babelrc file should look like this:</p>
<div class="gatsby-highlight" data-language="json">
      <pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"es2015"</span><span class="token punctuation">,</span> <span class="token string">"react"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">"react-transform"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token property">"transforms"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                <span class="token property">"transform"</span><span class="token operator">:</span> <span class="token string">"react-transform-hmr"</span><span class="token punctuation">,</span>
                <span class="token property">"imports"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"react"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">"locals"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"module"</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token property">"transform"</span><span class="token operator">:</span> <span class="token string">"react-transform-catch-errors"</span><span class="token punctuation">,</span>
                <span class="token property">"imports"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"react"</span><span class="token punctuation">,</span> <span class="token string">"redbox-react"</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>This is the configuration that uses the transform packages above. In short, we instruct the
react-transform plugin to apply 2 transforms: the hmr and catch-errors transforms to our react
components. In simple terms, transforms are just functions that accepts a react component as input and modifies it. For
example, <strong><em>react-transform-catch-errors</em></strong> adds a try catch block on the original render method to catch exceptions.</p>
<hr>
<h2 id="step-33-configure-webpack"><a href="#step-33-configure-webpack" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3.3: Configure webpack</h2>
<p>Your webpack.config.dev.js should look like this:</p>
<div class="gatsby-highlight" data-language="js">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// Add webpack-hot-middleware/client to our bundle so our app </span>
    <span class="token comment">// subscribes to update notifications from the server</span>
    entry<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'webpack-hot-middleware/client'</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/client/index'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
        
        <span class="token comment">// Add a publicPath property. This is the path referenced in the </span>
        <span class="token comment">// script tag in our html template to our bundle.js. We need </span>
        <span class="token comment">// this to configure webpack-dev-middleware in server.js</span>
        publicPath<span class="token punctuation">:</span> <span class="token string">'/dist/'</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        loaders<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
            test<span class="token punctuation">:</span> <span class="token regex">/\.jsx?$/</span><span class="token punctuation">,</span>
            loader<span class="token punctuation">:</span> <span class="token string">'babel'</span><span class="token punctuation">,</span>
            include<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// Enables hot module replacement in webpack</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
      </div>
<hr>
<h2 id="step-34-modify-express-app-to-support-hmr"><a href="#step-34-modify-express-app-to-support-hmr" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3.4: Modify express app to support hmr</h2>
<p>Almost there! Now we need to modify server.js to use webpack dev and hot middlewares.</p>
<div class="gatsby-highlight" data-language="js">
      <pre class="language-js"><code class="language-js"><span class="token comment">// ...</span>

<span class="token keyword">import</span> Webpack <span class="token keyword">from</span> <span class="token string">'webpack'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> WebpackConfig <span class="token keyword">from</span> <span class="token string">'../../webpack.config.dev'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> WebpackDevMiddleware <span class="token keyword">from</span> <span class="token string">'webpack-dev-middleware'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> WebPackHotMiddleware <span class="token keyword">from</span> <span class="token string">'webpack-hot-middleware'</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token comment">// create a webpack instance from our dev config</span>
<span class="token keyword">const</span> webpackCompiler <span class="token operator">=</span> <span class="token function">Webpack</span><span class="token punctuation">(</span>WebpackConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use webpack dev middleware to bundle our app on the fly and serve it </span>
<span class="token comment">// on publicPath. Turn off verbose webpack output in our server console</span>
<span class="token comment">// by setting noInfo: true</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">WebpackDevMiddleware</span><span class="token punctuation">(</span>webpackCompiler<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    publicPath<span class="token punctuation">:</span> WebpackConfig<span class="token punctuation">.</span>output<span class="token punctuation">.</span>publicPath<span class="token punctuation">,</span>
    noInfo<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// instruct our webpack instance to use webpack hot middleware</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">WebPackHotMiddleware</span><span class="token punctuation">(</span>webpackCompiler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// NOTE: delete express static middleware for dist. We don't need that</span>
<span class="token comment">// anymore because webpack-dev-middleware serves our bundle.js from memory</span>

<span class="token comment">// ...</span></code></pre>
      </div>
<hr>
<h2 id="step-35-run-the-app"><a href="#step-35-run-the-app" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3.5: Run the app!</h2>
<p>If you have been following my <a href="/step-two-to-react-webpack-and-react/">previous post</a> up to this point,
note that you'll need to delete the prestart command from package.json. We don't need that anymore because we are using webpack
dev middleware to bundle our app on the fly. </p>
<p>If you have the physical /dist/ folder, also delete that because
again webpack dev middleware will serve bundle.js from memory.</p>
<p>At your root directory run "npm start" and browse to localhost:3000. Then make changes to appComponent.js; maybe change
the h1 text. You'll see your changes in the browser immediately without refresh.</p>
<p>Download the complete source code from <a href="https://github.com/yusinto/reactStep3" target="_blank" rel="nofollow">github</a>.</p>
<hr></div><div class="postTemplate__Content-k5dusi-1 bGQVDl"><ul class="tagList__List-di7ei6-0 cbDDLL"><li class="tagList__ListItem-di7ei6-1 iXYkqD"><a href="/tags/react">react</a></li><li class="tagList__ListItem-di7ei6-1 iXYkqD"><a href="/tags/hmr">hmr</a></li><li class="tagList__ListItem-di7ei6-1 iXYkqD"><a href="/tags/hot">hot</a></li><li class="tagList__ListItem-di7ei6-1 iXYkqD"><a href="/tags/module">module</a></li><li class="tagList__ListItem-di7ei6-1 iXYkqD"><a href="/tags/replacement">replacement</a></li><li class="tagList__ListItem-di7ei6-1 iXYkqD"><a href="/tags/webpack">webpack</a></li><li class="tagList__ListItem-di7ei6-1 iXYkqD"><a href="/tags/babel">babel</a></li></ul></div></div></div></div><script>
            
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-75763786-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-75763786-1', 'auto');
      ga('set', 'anonymizeIp', 1);}
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-pages-post-template-js","jsonName":"step-three-to-react-speed-dev-with-hot-module-replacement-c37","path":"/step-three-to-react-speed-dev-with-hot-module-replacement"};window.dataPath="997/path---step-three-to-react-speed-dev-with-hot-module-replacement-c-37-26c-2lDTc9sVYVE6r5U9w3pyYyVDykw";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":"/app.60176bdc619a5f4de8c3.css","component---node-modules-gatsby-plugin-offline-app-shell-js":"/component---node-modules-gatsby-plugin-offline-app-shell-js-b853a5fd9befe2191c27.js","component---src-pages-post-template-js":"/component---src-pages-post-template-js-d255fc109465d408af22.js","component---src-pages-tag-template-js":"/component---src-pages-tag-template-js-bd2bcd8e43be94f34a20.js","component---src-pages-404-js":"/component---src-pages-404-js-023e86e4e34310efc373.js","component---src-pages-index-js":"/component---src-pages-index-js-f9be87483377ecfc4c39.js","component---src-pages-tags-js":"/component---src-pages-tags-js-206e319bb95ceb23de41.js"};/*]]>*/</script><script src="/webpack-runtime-50a4b4d11b9e1ff9efe1.js" async=""></script><script src="/app-2f24f6379817eea6a2e9.js" async=""></script><script src="/1-a27f1ce31a73d4413592.js" async=""></script><script src="/component---src-pages-post-template-js-d255fc109465d408af22.js" async=""></script><script src="/0-19e36683adfe211454e2.js" async=""></script></body></html>