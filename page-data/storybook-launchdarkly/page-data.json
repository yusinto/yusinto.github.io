{"componentChunkName":"component---src-pages-post-template-js","path":"/storybook-launchdarkly","result":{"data":{"site":{"siteMetadata":{"blurb":"Frontend Engineer @ LaunchDarkly. Book addict and tea lover. Passionate about react graphql and making things simple and fast."}},"markdownRemark":{"html":"<p>If you use LaunchDarkly to feature flag your app and you use storybook, then here's a way to\nrun your feature flagged components in storybook. </p>\n<p>The example below assumes a <code class=\"language-text\">Button</code> component that uses the LaunchDarkly react sdk to\naccess flags via the <code class=\"language-text\">useFlags</code> hook. </p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> withLDProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'launchdarkly-react-client-sdk'</span>\n<span class=\"token keyword\">import</span> Button <span class=\"token keyword\">from</span> <span class=\"token string\">'./button'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Buttons'</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 1. Write your standard story component</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">EmojiButton</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">backgroundColor</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>blue<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>img<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-label</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>so cool<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      üòÄ üòé üëç üíØ\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 2. Then wrap it with withLDProvider</span>\n<span class=\"token keyword\">const</span> LDEmojiButton <span class=\"token operator\">=</span> <span class=\"token function\">withLDProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> clientSideID<span class=\"token punctuation\">:</span> <span class=\"token string\">'your-client-side-id'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>EmojiButton<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 3. Finaly export the wrapped component</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">withLDEmoji</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LDEmojiButton</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You will be able to target users and turn features on/off in storybook like you can in your app!\nThe possibilities are endless.</p>\n<p>See the complete sample app which you can run on <a href=\"https://github.com/yusinto/storybook-launchdarkly\" target=\"_blank\" rel=\"nofollow\">github</a>.  </p>\n<hr>","timeToRead":1,"frontmatter":{"date":"March 27, 2020","path":"/storybook-launchdarkly","title":"Using Storybook and LaunchDarkly","files":[{"name":"hero","publicURL":"/static/hero-b61fbbd3836769868edcda36453eafd2.png"}],"tags":["storybook","launchdarkly","feature","flags","ux","ui","js","react","javascript"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}