{"componentChunkName":"component---src-pages-post-template-js","path":"/theme-ui-react-router-link-typescript","result":{"data":{"site":{"siteMetadata":{"blurb":"Frontend Engineer @ LaunchDarkly. Book addict and tea lover. Passionate about react graphql and making things simple and fast."}},"markdownRemark":{"html":"<p>In this post I'll describe how you can create a theme-ui aware Link component with react router or gatsby in typescript. </p>\n<p>Theme UI provides built-in components that are theme-aware which are awesome. This means you can directly use\nvariant, mx, py and other <a href=\"https://theme-ui.com/components#style-props\" target=\"_blank\" rel=\"nofollow\">style props</a> in your jsx: </p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Box <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'theme-ui'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token comment\">// directly use variant, mx, py, etc with theme-ui components </span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">variant</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>gretting<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mx</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">py</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    G'day from reactjunkie!\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The example above is a contrived one. What if you want to use the theme-ui Link component with react router or gatsby?\nThese libraries have their own Link component so you'll have to use the <code class=\"language-text\">as</code> prop that comes with all theme-ui\ncomponents to change the underlying component. This works, however making it work with typescript requires a\nlittle extra work. Let's implement this with react router.</p>\n<iframe src=\"https://codesandbox.io/embed/infallible-tharp-d1ri5?fontsize=14&hidenavigation=1&module=%2Fsrc%2Flink.tsx&moduleview=1&theme=dark&view=editor\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" title=\"Example theme-ui react router gatsby link with typescript\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>We want to make a theme-ui aware react router link with typescript. You can see the important steps from the comments\nabove with additonal notes below. Note that the <code class=\"language-text\">ForwardRef</code> type is ripped from the official <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/86bd530585927c9a4e16bc8f5db17439b66c30b3/types/theme-ui__components/index.d.ts#L21\" target=\"_blank\" rel=\"nofollow\">definition</a>\nso I won't go into that here.</p>\n<ol>\n<li>We combine the theme-ui and react router link props to get an intersection type called <code class=\"language-text\">CombinedProps</code>.  </li>\n<li>Create a new component <code class=\"language-text\">FinalLink</code> using the intersection type above so typescript is aware of all the props our custom\nLink component can accept.</li>\n<li>Finally use the <code class=\"language-text\">as</code> prop to swap the underlying component of the default theme-ui link with\nthe default react router link.</li>\n</ol>\n<p>Now we have a react router Link component that complies with theme-ui!</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Link <span class=\"token keyword\">from</span> <span class=\"token string\">\"./link\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Home</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token comment\">// Look ma theme-ui aware react router link!</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/about<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">variant</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>body<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">pl</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">sx</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> fontSize<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    Back to about us page\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Check out the full app in <a href=\"https://codesandbox.io/s/infallible-tharp-d1ri5?fontsize=14&#x26;hidenavigation=1&#x26;theme=dark\" target=\"_blank\" rel=\"nofollow\">codesandbox</a>.</p>\n<p>Thanks for reading!</p>\n<hr>","timeToRead":2,"frontmatter":{"date":"January 31, 2020","path":"/theme-ui-react-router-link-typescript","title":"Theme UI react router link with typescript","files":[{"name":"hero","publicURL":"/static/hero-9e51b55343e13fe2245509621322f0b1.png"}],"tags":["theme-ui","theme","ui","components","gatsby","typescript","ts","tsx","react","javascript","link","react-router","router","reach"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}